<!-- <app-nav-bar class="stick-top"></app-nav-bar> -->

<div style="z-index: 877777777777773487384;overflow: scroll;">
  <div class="sticky-tabs d-none" *ngIf="stick">
    <div class="container">
      <div class="row">
        <div class="col-8 pt-2">
          <ul>
            <li>
              <a (click)="changeTabMode(TabMode.details)" [ngClass]="{
                    'tab-selected': tabSelected(TabMode.details),
                    'tab-notSelected': !tabSelected(TabMode.details)
                  }">Details</a>
            </li>
            <li>
              <a (click)="changeTabMode(TabMode.amenities)" [ngClass]="{
                    'tab-selected': tabSelected(TabMode.amenities),
                    'tab-notSelected': !tabSelected(TabMode.amenities)
                  }">Amenities</a>
            </li>

            <li>
              <a (click)="changeTabMode(TabMode.howToRelease)" [ngClass]="{
                    'tab-selected': tabSelected(TabMode.howToRelease),
                    'tab-notSelected': !tabSelected(TabMode.howToRelease)
                  }">Operational Hours</a>
            </li>
            <li>
              <a (click)="changeTabMode(TabMode.accessHours)" [ngClass]="{
                    'tab-selected': tabSelected(TabMode.accessHours),
                    'tab-notSelected': !tabSelected(TabMode.accessHours)
                  }">Access Hours</a>
            </li>
            <li>
              <a (click)="changeTabMode(TabMode.tipToFind)" [ngClass]="{
                    'tab-selected': tabSelected(TabMode.tipToFind),
                    'tab-notSelected': !tabSelected(TabMode.tipToFind)
                  }">Tip to Find</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="det-pop-container pt-0 fl100" style="z-index: 877777777777773487384;overflow: scroll; ">
    <div style="margin-right: -12px;cursor: pointer;" class="text-right float-right" (click)="closeModal()"> <span
        class="material-icons f16">
        cancel
      </span> </div>
    <div class="">
      <div class="det-pop-slider">
        <ngb-carousel [showNavigationArrows]="true" [showNavigationIndicators]="true" interval="10000" [keyboard]="true"
          [pauseOnHover]="true" [wrap]="true" [activeId]="'slide1'" (slide)="onSlide($event)">
          <!-- <ng-template ngbSlide id="slideOne" *ngIf="place?.files">
          <div class="picsum-img-wrapper">
              <img [src]="place?.files[0].filePath" alt="Random first slide">
          </div>
      </ng-template> -->
          <ng-template ngbSlide id="{{'slide'+indexOfelement}}" *ngFor="let img of place.files;let indexOfelement=index;">
            <div class="picsum-img-wrapper">
              <img [src]="img.filePath" alt="Random Second slide">
            </div>
            <!-- <div class="carousel-caption">
          <h3>{{indexOfelement}} slide label</h3>
          <p>{{indexOfelement}}</p>
      </div> -->
          </ng-template>
        </ngb-carousel>
        <!-- <button (click)="goToSlide('slide2')">Pause</button>
      <button (click)="pauseCarousel()">Play</button>
      <button (click)="moveNext()">Next</button>
      <button (click)="getPrev()">Prev</button>
      <button (click)="goToSlide('slide2')">Move to Slide Three</button> -->


        <!-- <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
          <div class="img2" *ngFor="let img of place?.files; let i = index">
            <div class="carousel-item">
              <div class="carousel-item active">
            <img class="d-block w-100" [src]="img.filePath" alt="paking image" />
          </div>
          </div>
          </div> -->

        <!-- </div> -->
        <!-- <div id="carouselExampleControls" class="carousel slide d-none" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="../images/slider-1.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="../images/slider-2.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="../images/slider-3.jpg" class="d-block w-100" alt="...">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div> -->

      </div>

      <!-- <div class="det-pop-form-holder">
        <form class="form" [formGroup]="dateForm">

          <div class="det-pop-form fl100 d-none">
            <ul>
              <li>
                <label class="d-block f12 fcl3">Check In</label>
                <dp-date-picker placeholder="Check in" [config]="config" [formControlName]="DATE_FORM_METADATA.fromDate"
                  theme="dp-material" mode="daytime" [displayDate]="fromDisplayDate" (onChange)="fromDateChange($event)"
                  #checkIn></dp-date-picker>


                <span returnedValueType="Moment" style="color: red; font-size: 9px; display: block;"
                  *ngIf="!isDateRangeValid">
                  Check in Date Cannot be Before Check out Date</span>
              </li>
              <li>
                <label class="d-block f12 fcl3">Check Out</label>
                <dp-date-picker placeholder="Check out" [config]="config" [formControlName]="DATE_FORM_METADATA.toDate"
                  theme="dp-material" mode="daytime" [displayDate]="toDisplayDate" (onChange)="toDateChange($event)"
                  #checkOut></dp-date-picker>
              </li>
            </ul>
          </div>
        </form>
      </div> -->

    </div>
    <div class="fl100">
      <div class="f18 text-md-left text-center mt-1" style="word-break: break-all;">{{ place?.propertyname}}</div>
      <div class="row no-gutters text-md-left text-center">
        <div class="row pt-1 no-gutters w-100">
          <div class="col">
            <div class="fl100 f13 fcl2">{{ place?.propertyGroupAddress }}</div>
            <div class="fl100 fcl3 my-1">{{ place?.distance }} miles Away</div>
            <div class="f13 fl100 my-2">
              <span class="det-date-wrap">
                <!-- <span class="det-date-yy">{{place?.searchFromDateTime | date:'medium'}}</span> -->
                <!-- <span class="det-date-yy">{{place?.searchFromDateTime| date:'yyyy'}}</span>
                <span class="det-date-da">{{place?.searchFromDateTime| date:'MMM'}} -</span>
                <span>{{place?.searchFromDateTime| date:'dd'}}</span> -->
                <span class="det-date-ti">{{place?.searchFromDateTime| date:'h:mm a'}}</span>
              </span>
              <span class="px-1 d-xl-inline-block ml-xl-0">To </span>
              <span class="det-date-wrap">
              <!-- <span class="det-date-yy">{{place?.searchToDateTime| date:'yyyy'}}</span>
              <span class="det-date-da">{{place?.searchToDateTime| date:'MMM'}} -</span>
              <span>{{place?.searchToDateTime| date:'dd'}}</span> -->
              <span class="det-date-ti">{{place?.searchToDateTime| date:'h:mm a'}}</span>
              </span>
            </div>
          </div>
          <div class="col-auto det-btn-price-container">
            <div class="f18 bfont fcblue mb-2">
              <span class="mr-1">$</span>{{place?.pricingAmount}}<span class="f14 fcl3 ml-1">per day</span>
            </div>
            <div class="d-block det-btn-list">
              <li *ngIf="!isSoldOut">
                <button class="btn-green-fill f13 mx-auto mx-md-0" (click)="addToCart()">
                  Add to Bag
                </button>
              </li>
              <li *ngIf="!isSoldOut">
                <button class="btn-blue-fill f12 mx-auto mx-md-0 py-2" (click)="getAvailableSpots(place)">
                  Reserve Now <span class="btn-fig mx-0 f12">$ {{place.calculatedAmount}}</span>
                </button>
              </li>
              <li *ngIf="isSoldOut">
                <button class="btn btn-danger mx-auto mx-md-0" [disabled]="isSoldOut">
                  Sold Out
                </button>
              </li>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class="pt-lg-0 pt-3 fl100">
      <mat-tab-group animationDuration="0ms">
        <mat-tab label="Details">
          <div [id]="TabMode.details" class="">
            <!-- <h2 class="f24 mb-0">Details</h2> -->
            <p class="text-justify mb-0 mt-2 f13">{{ place?.details }}</p>
          </div>
          <div [id]="TabMode.amenities" class=" mt-3">
            <div class="f18 mb-3">Amenities</div>
            <!-- <p class="text-justify">{{ place?.amenities }}</p> -->
            <ul class="det-amenity-list">
              <li *ngFor="let subCategory of place.amenities?.split(',');let i=index">
                <span class="det-amenity-icon">
                  <!-- <mat-icon aria-hidden="false" aria-label="Example home icon"> {{ subCategory }}</mat-icon> -->
                  <span class="ameimg" [tooltip]="place.amenities?.split(',')[i]">
                    <img  src="{{imageurl}}/{{subCategory.replace(' ','').replace('/','').toLowerCase()| removewhitespaces}}.png" alt="" />
                </span>
                </span>
                {{place.amenities?.split(',')[i]}}

              </li>
            </ul>
          </div>
        </mat-tab>
        <mat-tab label="Operational Hours">
          <div [id]="TabMode.howToRelease" class="det-page-box fl100  my-0 py-0">
            <!-- <h2 class="f24 mb-0">Operational Hours</h2> -->
            <!-- <p class="text-justify text-lowercase mb-0 mt-0" style="word-break: break-all;">{{ place?.howToRelease }}</p> -->
          </div>
          <div [id]="TabMode.accessHours" class="det-page-box fl100 mt-0 pt-2 "
            *ngIf="(place?.hourschecks!=null && place?.hourschecks!='')">
            <!-- <h2 class="f24 mb-0">Access Hours</h2> -->
            <table style="width:100%" class="det-hr-table">
              <thead>
                <tr>
                  <th>Day</th>
                  <th>From Time</th>
                  <th>To Time</th>
                </tr>
              </thead>
              <tr *ngFor="let subCategory of place.accessHours?.split(',')| slice:0:7;let i=index">
                <!-- {{subCategory.split('@')[1]}}
          {{subCategory.split('@')[1].lastIndexOf('-')}} -->
                <!-- {{subCategory.split('@')[1]}} -->
                <td>
                  {{ subCategory.split('~')[1].substring(subCategory.split('~')[0].lastIndexOf('~')+1,subCategory.split('~')[1].lastIndexOf('@'))}}
                </td>
                <td>
                  {{subCategory.split('~')[0]=='1'?'Closed': subCategory.split('@')[1].substring(subCategory.split('@')[1].lastIndexOf('@')+1,subCategory.split('@')[1].lastIndexOf('-'))==''?'Allowed for 24 Hours':subCategory.split('@')[1].substring(subCategory.split('@')[1].lastIndexOf('@')+1,subCategory.split('@')[1].lastIndexOf('-'))}}
                </td>
                <td>
                  {{subCategory.split('~')[0]=='1'?'Closed': subCategory.split('-')[1]==''?'-':subCategory.split('-')[1] }}
                </td>
              </tr>
            </table>
            <!-- <div *ngFor="let subCategory of place.accessHours?.split(',');let i=index">
      {{ subCategory }}
                <!-- {{place.amenities?.split(',')[i]}}                          -->
            <!-- </div> -->
            <!-- <p class="text-justify">{{ place?.accessHours }}</p> -->
          </div>
          <div [id]="TabMode.accessHours" *ngIf="(place?.hourschecks==null ||place?.hourschecks=='')">
            <div class="det-page-box fl100 mb-4">
            <!-- <h2 class="f24 mb-0">Access Hours</h2> -->
            <p>Allowed for 24 Hours</p>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Tip to Find">
          <div [id]="TabMode.tipToFind" class="det-page-box fl100 mb-4">
            <div class="f18 mb-3">Tip to Find</div>
            <p class="text-justify">{{ place?.tipToFind }}</p>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
    <div clas="det-pop-list-container fl100">

      <div #contentNav>
        <div class="fl100 d-none">
          <div class="" id="contentStart">
            <div class="pop-tab-menu">
              <ul>
                <li>
                  <a (click)="changeTabMode(TabMode.details)" [ngClass]="{
                        'tab-selected': tabSelected(TabMode.details),
                        'tab-notSelected': !tabSelected(TabMode.details)
                      }">Details</a>
                </li>
                <!-- <li>
                  <a (click)="changeTabMode(TabMode.amenities)" [ngClass]="{
                        'tab-selected': tabSelected(TabMode.amenities),
                        'tab-notSelected': !tabSelected(TabMode.amenities)
                      }">Amenities</a>
                </li> -->

                <li>
                  <a (click)="changeTabMode(TabMode.howToRelease)" [ngClass]="{
                        'tab-selected': tabSelected(TabMode.howToRelease),
                        'tab-notSelected': !tabSelected(TabMode.howToRelease)
                      }">How To Release</a>
                </li>
                <!-- <li>
                  <a (click)="changeTabMode(TabMode.accessHours)" [ngClass]="{
                        'tab-selected': tabSelected(TabMode.accessHours),
                        'tab-notSelected': !tabSelected(TabMode.accessHours)
                      }">Access Hours</a>
                </li> -->
                <li>
                  <a (click)="changeTabMode(TabMode.tipToFind)" [ngClass]="{
                        'tab-selected': tabSelected(TabMode.tipToFind),
                        'tab-notSelected': !tabSelected(TabMode.tipToFind)
                      }">Tip to Find</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div class="container-fluid py-3 custom-px-7 d-none">
    <div class="row">
      <div class="custum-col-8">
        <h2></h2>
        <h4 class="subtitle"></h4>
        <button class="popup-btn" (click)="addToFavorites()">
          <i class="fa fa-heart-o"></i> Favorites
        </button>
        <button class="popup-btn" (click)="openSearchPopup()">
          <i class="fa fa-share-alt"></i> Share
        </button>
        <form class="form" [formGroup]="dateForm">
          <fieldset class="bordered">
            <legend>Booking</legend>
            <div class="custom-row pb-1">
              <div class="col-4 my-auto">
                <p class="bold">Check In</p>
              </div>
              <div class="col-4 my-auto">
                <p class="bold">Check Out</p>
              </div>
              <div class="col-2 my-auto">
                <p><strong>Price: $</strong></p>
              </div>
              <div class="col-2">
                <div class="row">
                </div>
              </div>

            </div>
          </fieldset>
        </form>

      </div>

      <div class="col-3 d-none">
        <h1>Nearby Parking Places</h1>
        <div class="scrollable-y row">

          <ng-container *ngFor="let nearbyPlace of displayedNearbyPlaces; let i = index">
            <div class="placeholder-container col-12 mb-1">
              <div class="place-container">
                <!-- <img src="../assets/images/parkingLot.jpg" alt="parking image" id="plan" /> -->
                <img *ngIf="nearbyPlace?.files" [src]="nearbyPlace?.files[0]?.filePath" alt="parking image" id="plan" />

                <div class="place-text text-center mt-1">
                  <strong>{{ nearbyPlace.propertyname}}</strong>
                  <div>
                    {{ nearbyPlace.distance}} miles away
                  </div>
                  <div>
                    <strong>${{nearbyPlace.pricingAmount}}</strong>
                  </div>
                  <div>
                    <a routerLink="" (click)="goToPlace(nearbyPlace.propertyGroupID)">details</a>
                  </div>
                </div>

                <div class="btn-placeholder">
                  <button class="btn place-btn" (click)="reserveNow(nearbyPlace)">
                    <span>
                      Reserve Now
                    </span>
                  </button>
                </div>
              </div>
            </div>
          </ng-container>



          <!-- <ng-container>
              <div class="place-container" *ngFor="let nearbyPlace of displayedNearbyPlaces; let i = index">
                <img [src]="nearbyPlace?.files[0]?.filePath" alt="parking image" id="plan" />

                <div class="place-text text-center">
                  <strong>{{ place.propertyname}}</strong>
                  <div>
                    {{ place.distance}} miles away
                  </div>
                  <div>
                    <strong>${{place.pricingAmount}}</strong>
                  </div>
                  <div>
                    <a routerLink="" (click)="goToPlace(place.propertyGroupID)">details</a>
                  </div>
                </div>

                <div class="btn-placeholder">
                  <button class="btn place-btn">
                    <span>
                      Reserve Now
                    </span>

                  </button>
                </div>

              </div>

            </ng-container> -->

        </div>
      </div>
    </div>
  </div>
</div>
<!-- <app-footer></app-footer> -->